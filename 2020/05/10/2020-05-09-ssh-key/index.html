<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>設置 SSH Key 記錄 | Jun</title><meta name="description"><meta name="generator" content="Jun"><meta name="author"><meta name="keywords"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="128x128" href="/images/favicon-128.png"><link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-196x196.png"><meta name="msapplication-TileColor" content="#FFFFFF"><meta name="msapplication-TileImage" content="mstile-144x144.png"><meta name="msapplication-square70x70logo" content="mstile-70x70.png"><meta name="msapplication-square150x150logo" content="mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="mstile-310x150.png"><meta name="msapplication-square310x310logo" content="mstile-310x310.png"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body itemscope itemtype="https://schema.org/WebPage"><header itemscope itemtype="https://schema.org/WPHeader"><h1><a href="/" alt="Jun" title="Jun" itemprop="headline">Jun</a></h1><p itemprop="description"></p><p>只要我的心還會跳，腿還能動</p><p>我就沒有理由停下前進的步伐</p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/articles" alt="文章" title="文章" itemprop="url">文章</a></li><li itemprop="name"><a href="/author" alt="作者" title="作者" itemprop="url">作者</a></li></ul></nav><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline" class="post-heading">設置 SSH Key 記錄</h1><div class="page-tag-anchor-container"><div class="page-tag-anchor"><a href="/tags/w3HexSchool" itemprop="url">#w3HexSchool
&nbsp;&nbsp;</a></div><div class="page-tag-anchor"><a href="/tags/sshkey" itemprop="url">#sshkey
&nbsp;&nbsp;</a></div></div><span class="post-meta"></span><br><p>Windows 似乎會記錄登入 GitHub 時的認證，但如果同時有兩個帳號在使用，且以 HTTPS 的方式做 git push 會非常不方便，當系統紀錄的是 A 帳戶的認證，那麼在對 B 帳戶的 repo 做 git push 時會噴 403 的錯誤。</p>
<p>一個比較笨的方法是到控制台 &gt; 使用者帳戶 &gt; 認證管理員裡面刪除認證，那麼下次 git push 它會再次要求輸入帳號密碼，這時候登入 B 帳戶才可以對 B 帳戶裡的 repo push 成功，但這實在太蠢了，且下次如果需要對 A 帳戶裡的 repo push 得再重複一次這個流程，但使用 SSH 的方式做 git push 就不需要每次都輸入帳密了。</p>
<p>因為設置 SSH Key 的步驟有點多所以為此記錄一下：</p>
<hr>
<h5 id="1-檢查-SSH-Key"><a href="#1-檢查-SSH-Key" class="headerlink" title="1. 檢查 SSH Key"></a>1. 檢查 SSH Key</h5><p><code>cd ~/.ssh</code></p>
<p>如果出現 No such file or directory 代表先前已經新增過，如果是這樣那就自行將檔案備份或刪除，在此假設從未新增過</p>
<h5 id="2-產生-SSH-Key"><a href="#2-產生-SSH-Key" class="headerlink" title="2. 產生 SSH Key"></a>2. 產生 SSH Key</h5><p><code>ssh-keygen -t rsa -C &quot;youremail@example.com&quot;</code></p>
<p>Email 換成自己的，接下來的問題建議都直接按 Enter，這樣 push 時就不需要打任何東西，Enter 至結束後就會產生一組 SSH Key，這組 Key 會放在 ~/.ssh/id_rsa.pub</p>
<h5 id="3-接著用編輯器開啟-id-rsa-pub-這支檔案裡面的內容然後複製"><a href="#3-接著用編輯器開啟-id-rsa-pub-這支檔案裡面的內容然後複製" class="headerlink" title="3. 接著用編輯器開啟 id_rsa.pub 這支檔案裡面的內容然後複製"></a>3. 接著用編輯器開啟 id_rsa.pub 這支檔案裡面的內容然後複製</h5><h5 id="4-進到自己的-GitHub-的-Settings-gt-SSH-and-GPG-keys-點選-New-SSH-Key"><a href="#4-進到自己的-GitHub-的-Settings-gt-SSH-and-GPG-keys-點選-New-SSH-Key" class="headerlink" title="4. 進到自己的 GitHub 的 Settings &gt; SSH and GPG keys 點選 New SSH Key"></a>4. 進到自己的 GitHub 的 Settings &gt; SSH and GPG keys 點選 New SSH Key</h5><h5 id="5-Title-隨你填寫任何文字，但建議寫一些比較能辨識這組-Key-是由哪裡或哪個作業系統產生的文字，然後我們貼上剛剛從-id-rsa-pub-複製的內容"><a href="#5-Title-隨你填寫任何文字，但建議寫一些比較能辨識這組-Key-是由哪裡或哪個作業系統產生的文字，然後我們貼上剛剛從-id-rsa-pub-複製的內容" class="headerlink" title="5. Title 隨你填寫任何文字，但建議寫一些比較能辨識這組 Key 是由哪裡或哪個作業系統產生的文字，然後我們貼上剛剛從 id_rsa.pub 複製的內容"></a>5. Title 隨你填寫任何文字，但建議寫一些比較能辨識這組 Key 是由哪裡或哪個作業系統產生的文字，然後我們貼上剛剛從 id_rsa.pub 複製的內容</h5><h5 id="6-接著按下-Add-SSH-Key，輸入自己的-GitHub-密碼驗證，驗證成功後就會看到你的-SSH-Keys-下面多一欄"><a href="#6-接著按下-Add-SSH-Key，輸入自己的-GitHub-密碼驗證，驗證成功後就會看到你的-SSH-Keys-下面多一欄" class="headerlink" title="6. 接著按下 Add SSH Key，輸入自己的 GitHub 密碼驗證，驗證成功後就會看到你的 SSH Keys 下面多一欄"></a>6. 接著按下 Add SSH Key，輸入自己的 GitHub 密碼驗證，驗證成功後就會看到你的 SSH Keys 下面多一欄</h5><h5 id="7-測試"><a href="#7-測試" class="headerlink" title="7. 測試"></a>7. 測試</h5><p><code>ssh -T git@github.com</code></p>
<p>輸入後應該會看到以下信息：</p>
<p>The authenticity of host ‘github.com (xxx.xx.xxx.xxx)’ can’t be established.<br>RSA key fingerprint is xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx.<br>Are you sure you want to continue connecting (yes/no)?</p>
<p>x 都是碼掉的部分，並不是真的出現 x 喔！然後輸入 yes 後應該會看到：</p>
<p>Hi username! You’ve successfully authenticated, but GitHub does not provide shell access.</p>
<p>這樣就是新增成功了～</p>
<h5 id="8-在-repo-添加-SSH-Key"><a href="#8-在-repo-添加-SSH-Key" class="headerlink" title="8. 在 repo 添加 SSH Key"></a>8. 在 repo 添加 SSH Key</h5><p>到 GitHub 選擇你要的 repo，複製 SSH 位址，格式大概像這樣 <a href="mailto:git@github.com">git@github.com</a>:帳號/儲存庫名稱.git</p>
<p><code>git remote set-url origin git@github.com:&lt;username&gt;/&lt;reponame&gt;.git</code></p>
<p>這樣就完成了，下次 git push 就不再需要輸入帳密了！</p>
</article><div data-mobile="true" data-href="https://peng940825.github.io/undefined" class="fb-comments"></div><span class="next-post"><a href="/2020/05/02/2020-05-02-class/" itemprop="url">Older Post ⇒</a></span><br><br><br></main><script async src="https://www.googletagmanager.com/gtag/js?id=UA-158090190-1"></script><script async>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-158090190-1');
</script><div id="fb-root"></div><script async defer crossorigin="anonymous" src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&amp;version=v6.0"></script></body></html>